(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[641],{26126:(e,t,a)=>{"use strict";a.d(t,{E:()=>o});var i=a(95155);a(12115);var s=a(74466),r=a(59434);let n=(0,s.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:a,...s}=e;return(0,i.jsx)("div",{className:(0,r.cn)(n({variant:a}),t),...s})}},30285:(e,t,a)=>{"use strict";a.d(t,{$:()=>c});var i=a(95155),s=a(12115),r=a(74466),n=a(59434);let o=(0,r.F)("inline-flex items-center justify-center font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",{variants:{variant:{default:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",destructive:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-blue-500",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 focus:ring-gray-500",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-gray-500",link:"text-blue-600 underline-offset-4 hover:underline focus:ring-blue-500"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3 text-sm",lg:"h-11 px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:a,variant:s,size:r,asChild:c=!1,...l}=e;return(0,i.jsx)("button",{className:(0,n.cn)(o({variant:s,size:r,className:a})),ref:t,...l})});c.displayName="Button"},36975:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>k});var i=a(95155),s=a(12115),r=a(11898),n=a(35317),o=a(56104),c=a(14932),l=a(82940),d=a.n(l);a(33174);var u=a(38274),m=a(35695),p=a(66695),x=a(30285),f=a(26126),g=a(38091),h=a(4516),y=a(17580),j=a(84616);let b=(0,c.ye)(d()),v=e=>{let{event:t}=e;return(0,i.jsxs)("div",{className:"flex items-center space-x-1 text-white text-xs p-1 rounded ".concat("surfCamp"===t.resource.type?"FR"===t.resource.category?"bg-orange-500":"bg-blue-500":"bg-gray-500"),children:["surfCamp"===t.resource.type?(0,i.jsx)(h.A,{className:"w-3 h-3"}):(0,i.jsx)(y.A,{className:"w-3 h-3"}),(0,i.jsx)("span",{className:"truncate",children:t.title}),(0,i.jsxs)(f.E,{variant:"secondary",className:"text-xs ml-auto",children:[t.resource.occupancy,"/",t.resource.capacity]})]})};function k(){let e=(0,m.useRouter)(),t=(0,o.Lf)(),[a,l]=(0,r.Ge)(t?(0,n.rJ)(t,g.I.SURF_CAMPS):null),[d,f]=(0,r.Ge)(t?(0,n.rJ)(t,g.I.BOOKINGS):null),h=(0,s.useMemo)(()=>a?a.docs.map(e=>({id:e.id,...e.data()})):[],[a]),y=(0,s.useMemo)(()=>d?d.docs.map(e=>({id:e.id,...e.data()})):[],[d]),k=(0,s.useMemo)(()=>{let e=[];return h.forEach(t=>{if(t.startDate&&t.endDate){let a=t.startDate.toDate(),i=t.endDate.toDate(),s=y.filter(e=>e.items.some(e=>"surfCamp"===e.type&&e.itemId===t.id)).reduce((e,t)=>e+t.clientIds.length,0);e.push({id:"camp-".concat(t.id),title:"".concat(t.category," Surf Camp"),start:a,end:i,resource:{type:"surfCamp",category:t.category,occupancy:s,capacity:t.occupancy,location:"FR"===t.category?"Frenchman's":"Honolua Bay"}})}}),y.forEach(t=>{t.items.forEach((a,i)=>{if("room"===a.type&&a.dates){let s=a.dates.checkIn.toDate(),r=a.dates.checkOut.toDate();e.push({id:"booking-".concat(t.id,"-").concat(i),title:"Room Booking (".concat(t.clientIds.length," guests)"),start:s,end:r,resource:{type:"booking",occupancy:t.clientIds.length,capacity:10,status:t.paymentStatus}})}})}),e},[h,y]),N=(0,s.useCallback)(e=>{let t="#6b7280";return"surfCamp"===e.resource.type?t="FR"===e.resource.category?"#f97316":"#3b82f6":"booking"===e.resource.type&&(t="#4b5563"),{style:{backgroundColor:t,borderRadius:"4px",opacity:.9,color:"white",border:"0px",display:"block"}}},[]),w=(0,s.useCallback)(t=>{"surfCamp"===t.resource.type?e.push("/admin/surfcamps"):"booking"===t.resource.type&&e.push("/admin/bookings")},[e]);return l||f?(0,i.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,i.jsx)("div",{className:"text-lg text-gray-600",children:"Loading calendar..."})}):(0,i.jsxs)(u.P.div,{className:"space-y-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(u.P.h1,{className:"text-3xl font-bold text-gray-900",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:"Calendar"}),(0,i.jsx)(u.P.p,{className:"text-gray-600",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:"View booking calendar and manage schedules"})]}),(0,i.jsx)(u.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:(0,i.jsxs)(x.$,{children:[(0,i.jsx)(j.A,{className:"w-4 h-4 mr-2"}),"Add Event"]})})]}),(0,i.jsxs)(u.P.div,{className:"flex items-center space-x-6 p-4 bg-white border border-gray-200 rounded-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("div",{className:"w-4 h-4 bg-orange-500 rounded"}),(0,i.jsx)("span",{className:"text-sm font-medium",children:"Frenchman's Surf Camp"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("div",{className:"w-4 h-4 bg-blue-500 rounded"}),(0,i.jsx)("span",{className:"text-sm font-medium",children:"Honolua Bay Surf Camp"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("div",{className:"w-4 h-4 bg-gray-500 rounded"}),(0,i.jsx)("span",{className:"text-sm font-medium",children:"Room Bookings"})]})]}),(0,i.jsx)(u.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:(0,i.jsxs)(p.Zp,{children:[(0,i.jsxs)(p.aR,{children:[(0,i.jsx)(p.ZB,{children:"Booking Calendar"}),(0,i.jsx)(p.BT,{children:"View and manage all bookings and surf camp sessions in calendar format"})]}),(0,i.jsxs)(p.Wu,{children:[(0,i.jsx)("div",{className:"h-[800px]",role:"main","aria-label":"Booking calendar",children:(0,i.jsx)(c.Vv,{localizer:b,events:k,startAccessor:"start",endAccessor:"end",style:{height:"100%"},eventPropGetter:N,onSelectEvent:w,components:{event:v,toolbar:e=>{let{label:t,onNavigate:a,onView:s}=e;return(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4 p-4 bg-gray-50 rounded-lg",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,i.jsx)(x.$,{variant:"outline",size:"sm",onClick:()=>a("PREV"),children:"Previous"}),(0,i.jsx)(x.$,{variant:"outline",size:"sm",onClick:()=>a("TODAY"),children:"Today"}),(0,i.jsx)(x.$,{variant:"outline",size:"sm",onClick:()=>a("NEXT"),children:"Next"})]}),(0,i.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:t}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(x.$,{variant:"month"===s?"default":"outline",size:"sm",onClick:()=>s("month"),children:"Month"}),(0,i.jsx)(x.$,{variant:"week"===s?"default":"outline",size:"sm",onClick:()=>s("week"),children:"Week"}),(0,i.jsx)(x.$,{variant:"day"===s?"default":"outline",size:"sm",onClick:()=>s("day"),children:"Day"})]})]})}},views:[c.Pp.MONTH,c.Pp.WEEK,c.Pp.DAY],defaultView:c.Pp.MONTH,popup:!0,selectable:!0,tooltipAccessor:e=>"".concat(e.resource.occupancy,"/").concat(e.resource.capacity," spots"),"aria-describedby":"calendar-description"})}),(0,i.jsx)("div",{id:"calendar-description",className:"sr-only",children:"Interactive calendar showing surf camp sessions and room bookings. Click on events to view details."})]})]})}),(0,i.jsxs)(u.P.div,{className:"grid grid-cols-1 md:grid-cols-4 gap-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[(0,i.jsxs)(p.Zp,{children:[(0,i.jsx)(p.aR,{children:(0,i.jsx)(p.ZB,{className:"text-lg",children:"Total Events"})}),(0,i.jsx)(p.Wu,{children:(0,i.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:k.length})})]}),(0,i.jsxs)(p.Zp,{children:[(0,i.jsx)(p.aR,{children:(0,i.jsx)(p.ZB,{className:"text-lg",children:"Surf Camp Sessions"})}),(0,i.jsx)(p.Wu,{children:(0,i.jsx)("div",{className:"text-3xl font-bold text-orange-600",children:k.filter(e=>"surfCamp"===e.resource.type).length})})]}),(0,i.jsxs)(p.Zp,{children:[(0,i.jsx)(p.aR,{children:(0,i.jsx)(p.ZB,{className:"text-lg",children:"Room Bookings"})}),(0,i.jsx)(p.Wu,{children:(0,i.jsx)("div",{className:"text-3xl font-bold text-gray-600",children:k.filter(e=>"booking"===e.resource.type).length})})]}),(0,i.jsxs)(p.Zp,{children:[(0,i.jsx)(p.aR,{children:(0,i.jsx)(p.ZB,{className:"text-lg",children:"This Month"})}),(0,i.jsx)(p.Wu,{children:(0,i.jsx)("div",{className:"text-3xl font-bold text-green-600",children:k.filter(e=>{let t=new Date;return e.start.getMonth()===t.getMonth()&&e.start.getFullYear()===t.getFullYear()}).length})})]})]})]})}},38091:(e,t,a)=>{"use strict";a.d(t,{I:()=>u,VK:()=>m,wk:()=>p});var i=a(44301),s=a(35317);let r=i.Ie(e=>e instanceof s.Dc),n=i.Ik({id:i.Yj(),name:i.Yj().min(1,"Name is required"),email:i.Yj().email("Invalid email format"),phone:i.Yj().min(1,"Phone is required"),lastBookingDate:r.optional(),notes:i.Yj().optional().default(""),createdAt:r,updatedAt:r}),o=i.Ik({id:i.Yj(),category:i.k5(["FR","HH"]),startDate:r,endDate:r,availableRooms:i.YO(i.Yj()),occupancy:i.ai().min(1,"Occupancy must be at least 1"),createdAt:r,updatedAt:r}),c=i.Ik({standard:i.ai().min(0,"Standard price must be non-negative"),offSeason:i.ai().min(0,"Off-season price must be non-negative"),camp:i.KC([i.g1(i.ai(),i.ai().min(0)),i.Ik({perBed:i.ai().min(0)})])});i.Ik({id:i.Yj(),name:i.Yj().min(1,"Room name is required"),capacity:i.ai().min(1,"Capacity must be at least 1"),bookingType:i.k5(["whole","perBed"]),pricing:c,amenities:i.YO(i.Yj()).default([]),description:i.Yj().optional().default(""),images:i.YO(i.Yj()).default([]),isActive:i.zM().default(!0),createdAt:r,updatedAt:r}),i.Ik({id:i.Yj(),name:i.Yj().min(1,"Add-on name is required"),description:i.Yj().optional().default(""),price:i.ai().min(0,"Price must be non-negative"),category:i.k5(["equipment","service","food","transport","other"]),images:i.YO(i.Yj()).default([]),isActive:i.zM().default(!0),maxQuantity:i.ai().min(1).optional(),createdAt:r,updatedAt:r});let l=i.Ik({type:i.k5(["room","surfCamp","addOn"]),itemId:i.Yj(),quantity:i.ai().min(1),unitPrice:i.ai().min(0),totalPrice:i.ai().min(0),dates:i.Ik({checkIn:r,checkOut:r}).optional()}),d=i.Ik({id:i.Yj(),clientIds:i.YO(i.Yj()).min(1,"At least one client is required"),items:i.YO(l).min(1,"At least one booking item is required"),totalAmount:i.ai().min(0,"Total amount must be non-negative"),paymentStatus:i.k5(["pending","confirmed","cancelled"]),paymentMethod:i.k5(["stripe","cash","transfer","other"]).optional(),notes:i.Yj().optional().default(""),createdAt:r,updatedAt:r}),u={CLIENTS:"clients",SURF_CAMPS:"surfCamps",ROOMS:"rooms",ADD_ONS:"addOns",BOOKINGS:"bookings"};n.omit({id:!0,createdAt:!0,updatedAt:!0}).partial(),o.omit({id:!0,createdAt:!0,updatedAt:!0}).partial();let m=i.Ik({name:i.Yj().min(1,"Room name is required"),capacity:i.ai().min(1,"Capacity must be at least 1"),bookingType:i.k5(["whole","perBed"]),pricing:c,amenities:i.YO(i.Yj()),description:i.Yj(),images:i.YO(i.Yj()),isActive:i.zM()});m.partial();let p=i.Ik({name:i.Yj().min(1,"Add-on name is required"),description:i.Yj(),price:i.ai().min(0,"Price must be non-negative"),category:i.k5(["equipment","service","food","transport","other"]),images:i.YO(i.Yj()),isActive:i.zM(),maxQuantity:i.ai().min(1).optional()});p.partial(),d.omit({id:!0,createdAt:!0,updatedAt:!0}).partial()},51170:(e,t,a)=>{Promise.resolve().then(a.bind(a,36975))},56104:(e,t,a)=>{"use strict";a.d(t,{Lf:()=>f,c7:()=>g,j2:()=>d,xI:()=>x});var i=a(23915),s=a(35317),r=a(45404),n=a(77505);let o={apiKey:"AIzaSyDQTtlEowOBdeDj-StcrlnscogXpmy52x4",authDomain:"heiwahousedashboard.firebaseapp.com",projectId:"heiwahousedashboard",storageBucket:"heiwahousedashboard.firebasestorage.app",messagingSenderId:"123456789012",appId:"1:123456789012:web:abcdef1234567890123456",measurementId:"G-ABCDEFGHIJK"},c=null,l=null,d=null,u=null,m=!1;function p(){if(!m)try{o.apiKey&&o.projectId?(c=(0,i.Dk)().length?(0,i.Dk)()[0]:(0,i.Wp)(o),l=(0,s.aU)(c),d=(0,r.xI)(c),u=(0,n.c7)(c),m=!0,console.log("Firebase initialized successfully with real credentials")):(console.warn("Firebase config is missing - using demo mode"),c={},l={},d={},u={},m=!0)}catch(e){console.warn("Failed to initialize Firebase:",e),c={},l={},d={},u={},m=!0}}function x(){return d||p(),d}function f(){return l}function g(){return u}p()},59434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>r});var i=a(52596),s=a(39688);function r(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,i.$)(t))}},66695:(e,t,a)=>{"use strict";a.d(t,{BT:()=>l,Wu:()=>d,ZB:()=>c,Zp:()=>n,aR:()=>o});var i=a(95155),s=a(12115),r=a(59434);let n=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,i.jsx)("div",{ref:t,className:(0,r.cn)("rounded-lg border border-gray-200 bg-white text-gray-950 shadow-sm",a),...s})});n.displayName="Card";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,i.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",a),...s})});o.displayName="CardHeader";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,i.jsx)("h3",{ref:t,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});c.displayName="CardTitle";let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,i.jsx)("p",{ref:t,className:(0,r.cn)("text-sm text-gray-500",a),...s})});l.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,i.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-0",a),...s})});d.displayName="CardContent",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,i.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",a),...s})}).displayName="CardFooter"}},e=>{e.O(0,[6431,9135,3965,9586,586,5003,6072,9051,4301,7953,8441,5964,7358],()=>e(e.s=51170)),_N_E=e.O()}]);