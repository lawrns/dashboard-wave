(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8261],{17580:(e,s,a)=>{"use strict";a.d(s,{A:()=>i});let i=(0,a(19946).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},36643:(e,s,a)=>{"use strict";a.d(s,{A:()=>i});let i=(0,a(19946).A)("bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]])},45089:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>E,dynamic:()=>F});var i=a(95155),r=a(12115),n=a(11898),t=a(35317),l=a(77505),c=a(56104),o=a(38543),d=a(62177),m=a(90221),h=a(60760),x=a(38274),p=a(31996);a(66298),a(44202);var g=a(66695),u=a(30285),j=a(62523),v=a(59409),y=a(54165),f=a(75937),b=a(47262),w=a(88539),N=a(26126),C=a(38091),k=a(36643),A=a(92657),R=a(19946);let M=(0,R.A)("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),S=(0,R.A)("coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);var D=a(17580),B=a(84616),I=a(29869),P=a(62525),z=a(13717),T=a(27213);let F="force-dynamic",J=[{id:"demo-room-1",name:"Ocean View Suite",capacity:4,bookingType:"whole",pricing:{standard:299,offSeason:249,camp:{1:199,2:179,3:169,4:159}},description:"Beautiful ocean view suite with private balcony",images:[],amenities:["private-bathroom","sea-view","balcony"],isActive:!0,createdAt:t.Dc.fromMillis(Date.now()-5184e6),updatedAt:t.Dc.fromMillis(Date.now()-6048e5)},{id:"demo-room-2",name:"Garden Bungalow",capacity:2,bookingType:"whole",pricing:{standard:199,offSeason:159,camp:{1:149,2:139}},description:"Cozy bungalow surrounded by tropical gardens",images:[],amenities:["private-bathroom","kitchen"],isActive:!0,createdAt:t.Dc.fromMillis(Date.now()-3888e6),updatedAt:t.Dc.fromMillis(Date.now()-432e6)},{id:"demo-room-3",name:"Beachfront Dorm",capacity:8,bookingType:"perBed",pricing:{standard:45,offSeason:35,camp:{perBed:32.5}},description:"Shared beachfront accommodation with bunk beds",images:[],amenities:["wifi","air-conditioning"],isActive:!0,createdAt:t.Dc.fromMillis(Date.now()-7776e6),updatedAt:t.Dc.fromMillis(Date.now()-864e6)},{id:"demo-room-4",name:"Premium Villa",capacity:6,bookingType:"whole",pricing:{standard:499,offSeason:399,camp:{1:349,2:329,3:309,4:289,5:269,6:249}},description:"Luxury villa with ocean views and private pool",images:[],amenities:["private-bathroom","sea-view","balcony","wifi","kitchen","air-conditioning"],isActive:!0,createdAt:t.Dc.fromMillis(Date.now()-2592e6),updatedAt:t.Dc.fromMillis(Date.now()-2592e5)},{id:"demo-room-5",name:"Standard Room",capacity:2,bookingType:"whole",pricing:{standard:149,offSeason:119,camp:{1:99,2:89}},description:"Comfortable standard room with garden views",images:[],amenities:["private-bathroom","wifi"],isActive:!0,createdAt:t.Dc.fromMillis(Date.now()-10368e6),updatedAt:t.Dc.fromMillis(Date.now()-1296e6)},{id:"demo-room-6",name:"Deluxe Suite",capacity:4,bookingType:"whole",pricing:{standard:399,offSeason:319,camp:{1:279,2:269,3:259,4:249}},description:"Spacious deluxe suite with premium amenities",images:[],amenities:["private-bathroom","sea-view","balcony","wifi","kitchen","air-conditioning"],isActive:!1,createdAt:t.Dc.fromMillis(Date.now()-15552e6),updatedAt:t.Dc.fromMillis(Date.now()-1728e6)}],O={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,adaptiveHeight:!0,arrows:!0},V=[{id:"private-bathroom",label:"Private Bathroom",icon:k.A},{id:"sea-view",label:"Sea View",icon:A.A},{id:"wifi",label:"Wi-Fi",icon:M},{id:"kitchen",label:"Kitchen",icon:S},{id:"balcony",label:"Balcony",icon:A.A},{id:"air-conditioning",label:"Air Conditioning",icon:S}];function E(){let[e,s]=(0,r.useState)(!1),[a,k]=(0,r.useState)(!1),[A,R]=(0,r.useState)(null),[M,S]=(0,r.useState)(!1),[F,E]=(0,r.useState)({}),$=(0,c.Lf)();(0,c.xI)();let G=(0,c.c7)(),[_,L,q]=(0,n.Ge)($?(0,t.rJ)($,C.I.ROOMS):null),H=(0,r.useMemo)(()=>{var e,s,a;return q&&((null==(e=q.message)?void 0:e.includes("Missing or insufficient permissions"))||(null==(s=q.message)?void 0:s.includes("permission-denied"))||(null==(a=q.message)?void 0:a.includes("PERMISSION_DENIED")))?J:_?_.docs.map(e=>({id:e.id,...e.data()})):[]},[_,q]);(0,r.useEffect)(()=>{if(q){let e=q.message||"Failed to load rooms";e.includes("Missing or insufficient permissions")?(o.oR.error("Access denied: Using demo data. Please check your admin permissions."),console.warn("Permissions error:",q)):e.includes("permission-denied")||e.includes("PERMISSION_DENIED")?(o.oR.error("Permission denied: Using demo data. Please check your admin permissions."),console.warn("Firebase permission error:",q)):o.oR.error("Failed to load rooms: ".concat(e))}},[q]);let U=(0,d.mN)({resolver:(0,m.u)(C.VK),defaultValues:{name:"",capacity:1,bookingType:"whole",pricing:{standard:0,offSeason:0,camp:{}},description:"",images:[],amenities:[],isActive:!0}}),W=async e=>{if(e.size>5242880)throw Error("File size must be less than 5MB");if(!["image/jpeg","image/png"].includes(e.type))throw Error("File must be JPG or PNG format");if(!G)throw Error("Storage not available");S(!0);try{let s=(0,l.KR)(G,"rooms/".concat(Date.now(),"_").concat(e.name));return await (0,l.D)(s,e),await (0,l.qk)(s)}finally{S(!1)}},K=async e=>{var s;let a=null==(s=e.target.files)?void 0:s[0];if(a)try{let e=await W(a),s=U.getValues("images")||[];U.setValue("images",[...s,e]),o.oR.success("Image uploaded successfully")}catch(e){o.oR.error(e.message||"Failed to upload image")}},Z=async e=>{try{if(H.find(s=>s.name.toLowerCase()===e.name.toLowerCase()))return void o.oR.error('A room with the name "'.concat(e.name,'" already exists'));if(!$)return void o.oR.error("Database not available");await (0,t.gS)((0,t.rJ)($,C.I.ROOMS),{...e,createdAt:t.Dc.now(),updatedAt:t.Dc.now()}),o.oR.success("Room created successfully"),s(!1),U.reset()}catch(e){o.oR.error("Failed to create room: ".concat(e.message))}},Q=async(e,s)=>{try{await (0,t.mZ)((0,t.H9)($,C.I.ROOMS,e),{...s,updatedAt:t.Dc.now()}),o.oR.success("Room updated successfully")}catch(e){o.oR.error("Failed to update room: ".concat(e.message))}},X=async e=>{if(confirm("Are you sure you want to delete this room?"))try{await (0,t.kd)((0,t.H9)($,C.I.ROOMS,e)),o.oR.success("Room deleted successfully")}catch(e){o.oR.error("Failed to delete room: ".concat(e.message))}};return L?(0,i.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,i.jsx)("div",{className:"text-lg text-gray-600",children:"Loading rooms..."})}):q?(0,i.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:["Failed to load rooms: ",q.message]}):(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Rooms Management"}),(0,i.jsx)("p",{className:"text-gray-600",children:"Manage room inventory, pricing, and availability"})]}),(0,i.jsxs)(y.lG,{open:e,onOpenChange:s,children:[(0,i.jsx)(y.zM,{asChild:!0,children:(0,i.jsxs)(u.$,{children:[(0,i.jsx)(B.A,{className:"w-4 h-4 mr-2"}),"Add New Room"]})}),(0,i.jsxs)(y.Cf,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,i.jsxs)(y.c7,{children:[(0,i.jsx)(y.L3,{children:"Create New Room"}),(0,i.jsx)(y.rr,{children:"Add a new room to your inventory with pricing and amenities."})]}),(0,i.jsx)(f.lV,{...U,children:(0,i.jsxs)("form",{onSubmit:U.handleSubmit(Z),className:"space-y-6",children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsx)(f.zB,{control:U.control,name:"name",render:e=>{let{field:s}=e;return(0,i.jsxs)(f.eI,{children:[(0,i.jsx)(f.lR,{children:"Room Name"}),(0,i.jsx)(f.MJ,{children:(0,i.jsx)(j.p,{placeholder:"e.g., Ocean View Suite",...s})}),(0,i.jsx)(f.C5,{})]})}}),(0,i.jsx)(f.zB,{control:U.control,name:"capacity",render:e=>{let{field:s}=e;return(0,i.jsxs)(f.eI,{children:[(0,i.jsx)(f.lR,{children:"Capacity"}),(0,i.jsx)(f.MJ,{children:(0,i.jsx)(j.p,{type:"number",...s,onChange:e=>s.onChange(parseInt(e.target.value)),min:1})}),(0,i.jsx)(f.C5,{})]})}})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsx)(f.zB,{control:U.control,name:"bookingType",render:e=>{let{field:s}=e;return(0,i.jsxs)(f.eI,{children:[(0,i.jsx)(f.lR,{children:"Booking Type"}),(0,i.jsxs)(v.l6,{onValueChange:s.onChange,defaultValue:s.value,children:[(0,i.jsx)(f.MJ,{children:(0,i.jsx)(v.bq,{children:(0,i.jsx)(v.yv,{placeholder:"Select booking type"})})}),(0,i.jsxs)(v.gC,{children:[(0,i.jsx)(v.eb,{value:"whole",children:"Whole Room"}),(0,i.jsx)(v.eb,{value:"perBed",children:"Per Bed"})]})]}),(0,i.jsx)(f.C5,{})]})}}),(0,i.jsx)(f.zB,{control:U.control,name:"isActive",render:e=>{let{field:s}=e;return(0,i.jsxs)(f.eI,{className:"flex flex-row items-center space-x-3 space-y-0",children:[(0,i.jsx)(f.MJ,{children:(0,i.jsx)(b.S,{checked:s.value,onCheckedChange:s.onChange})}),(0,i.jsx)("div",{className:"space-y-1 leading-none",children:(0,i.jsx)(f.lR,{children:"Active"})})]})}})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold",children:"Pricing"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsx)(f.zB,{control:U.control,name:"pricing.standard",render:e=>{let{field:s}=e;return(0,i.jsxs)(f.eI,{children:[(0,i.jsx)(f.lR,{children:"Standard Price ($)"}),(0,i.jsx)(f.MJ,{children:(0,i.jsx)(j.p,{type:"number",...s,onChange:e=>s.onChange(parseFloat(e.target.value)),min:0,step:.01})}),(0,i.jsx)(f.C5,{})]})}}),(0,i.jsx)(f.zB,{control:U.control,name:"pricing.offSeason",render:e=>{let{field:s}=e;return(0,i.jsxs)(f.eI,{children:[(0,i.jsx)(f.lR,{children:"Off-Season Price ($)"}),(0,i.jsx)(f.MJ,{children:(0,i.jsx)(j.p,{type:"number",...s,onChange:e=>s.onChange(parseFloat(e.target.value)),min:0,step:.01})}),(0,i.jsx)(f.C5,{})]})}})]})]}),(0,i.jsx)(f.zB,{control:U.control,name:"description",render:e=>{let{field:s}=e;return(0,i.jsxs)(f.eI,{children:[(0,i.jsx)(f.lR,{children:"Description"}),(0,i.jsx)(f.MJ,{children:(0,i.jsx)(w.T,{placeholder:"Describe the room features...",className:"min-h-[100px]",...s})}),(0,i.jsx)(f.C5,{})]})}}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(f.lR,{children:"Room Images"}),(0,i.jsxs)("div",{className:"mt-2",children:[(0,i.jsx)("input",{type:"file",accept:"image/jpeg,image/png",onChange:K,className:"hidden",id:"image-upload",disabled:M}),(0,i.jsx)("label",{htmlFor:"image-upload",className:"flex items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-gray-400 transition-colors",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)(I.A,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:M?"Uploading...":"Click to upload images (JPG/PNG, max 5MB)"})]})})]})]}),U.watch("images")&&U.watch("images").length>0&&(0,i.jsx)("div",{className:"grid grid-cols-3 gap-2",children:U.watch("images").map((e,s)=>(0,i.jsxs)("div",{className:"relative group",children:[(0,i.jsx)("img",{src:e,alt:"Room image ".concat(s+1),className:"w-full h-20 object-cover rounded-lg"}),(0,i.jsx)("button",{type:"button",onClick:()=>{let e=U.getValues("images");U.setValue("images",e.filter((e,a)=>a!==s))},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:(0,i.jsx)(P.A,{className:"w-3 h-3"})})]},s))})]}),(0,i.jsx)(f.zB,{control:U.control,name:"amenities",render:e=>{let{field:s}=e;return(0,i.jsxs)(f.eI,{children:[(0,i.jsx)(f.lR,{children:"Amenities"}),(0,i.jsx)("div",{className:"grid grid-cols-2 gap-3",children:V.map(e=>{var a;return(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(b.S,{id:e.id,checked:null==(a=s.value)?void 0:a.includes(e.id),onCheckedChange:a=>{if(a)s.onChange([...s.value||[],e.id]);else{var i;s.onChange(null==(i=s.value)?void 0:i.filter(s=>s!==e.id))}}}),(0,i.jsxs)("label",{htmlFor:e.id,className:"text-sm flex items-center space-x-2",children:[(0,i.jsx)(e.icon,{className:"w-4 h-4"}),(0,i.jsx)("span",{children:e.label})]})]},e.id)})}),(0,i.jsx)(f.C5,{})]})}}),(0,i.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,i.jsx)(u.$,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),(0,i.jsx)(u.$,{type:"submit",children:"Create Room"})]})]})})]})]})]}),(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(0,i.jsx)(h.N,{children:0===H.length?(0,i.jsx)("div",{className:"col-span-full text-center py-8 text-gray-500",children:"No rooms found. Create your first room to get started."}):H.map(e=>(0,i.jsx)(x.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},whileHover:{y:-4},children:(0,i.jsxs)(g.Zp,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:[(0,i.jsxs)(g.aR,{className:"pb-3",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)(N.E,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"}),(0,i.jsxs)("div",{className:"flex space-x-1",children:[(0,i.jsx)(u.$,{variant:"ghost",size:"sm",onClick:s=>{s.stopPropagation(),R(e),U.reset({name:e.name,capacity:e.capacity,bookingType:e.bookingType,pricing:e.pricing,description:e.description||"",images:e.images||[],amenities:e.amenities||[],isActive:e.isActive}),k(!0)},children:(0,i.jsx)(z.A,{className:"w-4 h-4"})}),(0,i.jsx)(u.$,{variant:"ghost",size:"sm",onClick:s=>{s.stopPropagation(),X(e.id)},children:(0,i.jsx)(P.A,{className:"w-4 h-4"})})]})]}),(0,i.jsx)(g.ZB,{className:"text-lg",children:e.name})]}),(0,i.jsx)(g.Wu,{children:(0,i.jsxs)("div",{className:"space-y-4",children:[e.images&&e.images.length>0?(0,i.jsx)("div",{className:"aspect-video bg-gray-100 rounded-lg overflow-hidden",children:(0,i.jsx)(p.A,{...O,children:e.images.map((s,a)=>(0,i.jsx)("div",{className:"aspect-video",children:(0,i.jsx)("img",{src:s,alt:"".concat(e.name," - Image ").concat(a+1),className:"w-full h-full object-cover"})},a))})}):(0,i.jsx)("div",{className:"aspect-video bg-gray-100 rounded-lg flex items-center justify-center",children:(0,i.jsx)(T.A,{className:"w-12 h-12 text-gray-400"})}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Capacity:"}),(0,i.jsxs)("span",{className:"font-medium flex items-center",children:[(0,i.jsx)(D.A,{className:"w-4 h-4 mr-1"}),e.capacity]})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Type:"}),(0,i.jsx)(N.E,{variant:"outline",children:"whole"===e.bookingType?"Whole Room":"Per Bed"})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Standard Price:"}),(0,i.jsxs)("span",{className:"font-medium text-green-600",children:["$",e.pricing.standard.toFixed(2)]})]}),e.description&&(0,i.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:e.description}),e.amenities&&e.amenities.length>0&&(0,i.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.amenities.slice(0,3).map(e=>{var s;let a=(e=>{let s=V.find(s=>s.id===e);return(null==s?void 0:s.icon)||D.A})(e);return(0,i.jsxs)(N.E,{variant:"secondary",className:"text-xs",children:[(0,i.jsx)(a,{className:"w-3 h-3 mr-1"}),null==(s=V.find(s=>s.id===e))?void 0:s.label]},e)}),e.amenities.length>3&&(0,i.jsxs)(N.E,{variant:"secondary",className:"text-xs",children:["+",e.amenities.length-3," more"]})]})]})]})})]})},e.id))})}),(0,i.jsx)(y.lG,{open:a,onOpenChange:k,children:(0,i.jsxs)(y.Cf,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,i.jsxs)(y.c7,{children:[(0,i.jsx)(y.L3,{children:"Edit Room"}),(0,i.jsx)(y.rr,{children:"Update room information, pricing, and amenities."})]}),(0,i.jsx)(f.lV,{...U,children:(0,i.jsxs)("form",{onSubmit:U.handleSubmit(e=>{A&&(Q(A.id,e),k(!1))}),className:"space-y-6",children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsx)(f.zB,{control:U.control,name:"name",render:e=>{let{field:s}=e;return(0,i.jsxs)(f.eI,{children:[(0,i.jsx)(f.lR,{children:"Room Name"}),(0,i.jsx)(f.MJ,{children:(0,i.jsx)(j.p,{placeholder:"e.g., Ocean View Suite",...s})}),(0,i.jsx)(f.C5,{})]})}}),(0,i.jsx)(f.zB,{control:U.control,name:"capacity",render:e=>{let{field:s}=e;return(0,i.jsxs)(f.eI,{children:[(0,i.jsx)(f.lR,{children:"Capacity"}),(0,i.jsx)(f.MJ,{children:(0,i.jsx)(j.p,{type:"number",...s,onChange:e=>s.onChange(parseInt(e.target.value)),min:1})}),(0,i.jsx)(f.C5,{})]})}})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsx)(f.zB,{control:U.control,name:"bookingType",render:e=>{let{field:s}=e;return(0,i.jsxs)(f.eI,{children:[(0,i.jsx)(f.lR,{children:"Booking Type"}),(0,i.jsxs)(v.l6,{onValueChange:s.onChange,value:s.value,children:[(0,i.jsx)(f.MJ,{children:(0,i.jsx)(v.bq,{children:(0,i.jsx)(v.yv,{placeholder:"Select booking type"})})}),(0,i.jsxs)(v.gC,{children:[(0,i.jsx)(v.eb,{value:"whole",children:"Whole Room"}),(0,i.jsx)(v.eb,{value:"perBed",children:"Per Bed"})]})]}),(0,i.jsx)(f.C5,{})]})}}),(0,i.jsx)(f.zB,{control:U.control,name:"isActive",render:e=>{let{field:s}=e;return(0,i.jsxs)(f.eI,{className:"flex flex-row items-center space-x-3 space-y-0",children:[(0,i.jsx)(f.MJ,{children:(0,i.jsx)(b.S,{checked:s.value,onCheckedChange:s.onChange})}),(0,i.jsx)("div",{className:"space-y-1 leading-none",children:(0,i.jsx)(f.lR,{children:"Active"})})]})}})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold",children:"Pricing"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsx)(f.zB,{control:U.control,name:"pricing.standard",render:e=>{let{field:s}=e;return(0,i.jsxs)(f.eI,{children:[(0,i.jsx)(f.lR,{children:"Standard Price ($)"}),(0,i.jsx)(f.MJ,{children:(0,i.jsx)(j.p,{type:"number",...s,onChange:e=>s.onChange(parseFloat(e.target.value)),min:0,step:.01})}),(0,i.jsx)(f.C5,{})]})}}),(0,i.jsx)(f.zB,{control:U.control,name:"pricing.offSeason",render:e=>{let{field:s}=e;return(0,i.jsxs)(f.eI,{children:[(0,i.jsx)(f.lR,{children:"Off-Season Price ($)"}),(0,i.jsx)(f.MJ,{children:(0,i.jsx)(j.p,{type:"number",...s,onChange:e=>s.onChange(parseFloat(e.target.value)),min:0,step:.01})}),(0,i.jsx)(f.C5,{})]})}})]})]}),(0,i.jsx)(f.zB,{control:U.control,name:"description",render:e=>{let{field:s}=e;return(0,i.jsxs)(f.eI,{children:[(0,i.jsx)(f.lR,{children:"Description"}),(0,i.jsx)(f.MJ,{children:(0,i.jsx)(w.T,{placeholder:"Describe the room features...",className:"min-h-[100px]",...s})}),(0,i.jsx)(f.C5,{})]})}}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(f.lR,{children:"Room Images"}),(0,i.jsxs)("div",{className:"mt-2",children:[(0,i.jsx)("input",{type:"file",accept:"image/jpeg,image/png",onChange:K,className:"hidden",id:"image-upload-edit",disabled:M}),(0,i.jsx)("label",{htmlFor:"image-upload-edit",className:"flex items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-gray-400 transition-colors",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)(I.A,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:M?"Uploading...":"Click to upload images (JPG/PNG, max 5MB)"})]})})]})]}),U.watch("images")&&U.watch("images").length>0&&(0,i.jsx)("div",{className:"grid grid-cols-3 gap-2",children:U.watch("images").map((e,s)=>(0,i.jsxs)("div",{className:"relative group",children:[(0,i.jsx)("img",{src:e,alt:"Room image ".concat(s+1),className:"w-full h-20 object-cover rounded-lg"}),(0,i.jsx)("button",{type:"button",onClick:()=>{let e=U.getValues("images");U.setValue("images",e.filter((e,a)=>a!==s))},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:(0,i.jsx)(P.A,{className:"w-3 h-3"})})]},s))})]}),(0,i.jsx)(f.zB,{control:U.control,name:"amenities",render:e=>{let{field:s}=e;return(0,i.jsxs)(f.eI,{children:[(0,i.jsx)(f.lR,{children:"Amenities"}),(0,i.jsx)("div",{className:"grid grid-cols-2 gap-3",children:V.map(e=>{var a;return(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(b.S,{id:e.id,checked:null==(a=s.value)?void 0:a.includes(e.id),onCheckedChange:a=>{if(a)s.onChange([...s.value||[],e.id]);else{var i;s.onChange(null==(i=s.value)?void 0:i.filter(s=>s!==e.id))}}}),(0,i.jsxs)("label",{htmlFor:e.id,className:"text-sm flex items-center space-x-2",children:[(0,i.jsx)(e.icon,{className:"w-4 h-4"}),(0,i.jsx)("span",{children:e.label})]})]},e.id)})}),(0,i.jsx)(f.C5,{})]})}}),(0,i.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,i.jsx)(u.$,{type:"button",variant:"outline",onClick:()=>k(!1),children:"Cancel"}),(0,i.jsx)(u.$,{type:"submit",children:"Update Room"})]})]})})]})})]})}},88539:(e,s,a)=>{"use strict";a.d(s,{T:()=>t});var i=a(95155),r=a(12115),n=a(59434);let t=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,i.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...r})});t.displayName="Textarea"},92657:(e,s,a)=>{"use strict";a.d(s,{A:()=>i});let i=(0,a(19946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},93544:(e,s,a)=>{Promise.resolve().then(a.bind(a,45089))}},e=>{e.O(0,[5149,9135,3965,5003,6072,9051,8543,4301,6078,1901,9019,7978,8441,5964,7358],()=>e(e.s=93544)),_N_E=e.O()}]);